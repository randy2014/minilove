<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniLove - 情感支持社区演示</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .tagline {
            font-size: 20px;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .demo-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .demo-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.12);
        }
        
        .demo-card h2 {
            color: #4a5568;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .demo-card h2 i {
            font-size: 24px;
        }
        
        .test-user {
            background: #e6fffa;
            border: 1px solid #81e6d9;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .test-user h4 {
            color: #234e52;
            margin-bottom: 10px;
        }
        
        .user-credentials {
            font-family: monospace;
            font-size: 14px;
            color: #2d3748;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            text-align: center;
            margin: 5px;
        }
        
        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .btn-tertiary {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        
        .api-result {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            max-height: 300px;
            overflow: auto;
            border: 1px solid #e9ecef;
        }
        
        .api-result pre {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .status-success {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-error {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .post-preview {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .post-author {
            font-weight: 600;
            color: #4a5568;
        }
        
        .post-time {
            font-size: 12px;
            color: #718096;
        }
        
        .post-content {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .post-stats {
            display: flex;
            gap: 20px;
            color: #718096;
            font-size: 14px;
        }
        
        .post-stats i {
            margin-right: 5px;
        }
        
        .tag {
            display: inline-block;
            background: #e0e7ff;
            color: #3730a3;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            margin: 3px;
        }
        
        .emotion-tag {
            display: inline-block;
            background: #fef3c7;
            color: #92400e;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            margin: 3px;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        
        .section h3 {
            color: #4a5568;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }
        
        .tech-item {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px 20px;
            text-align: center;
            flex: 1;
            min-width: 150px;
        }
        
        .tech-name {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .tech-desc {
            font-size: 12px;
            color: #718096;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #4f46e5;
        }
        
        .feature-item h4 {
            color: #4a5568;
            margin-bottom: 10px;
        }
        
        .feature-item p {
            color: #718096;
            font-size: 14px;
        }
        
        .footer {
            text-align: center;
            padding: 30px;
            color: #718096;
            font-size: 14px;
            border-top: 1px solid #e2e8f0;
            margin-top: 50px;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #718096;
        }
        
        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #e2e8f0;
            border-top-color: #4f46e5;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .message-box {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }
        
        .message-success {
            background: #d1fae5;
            border: 1px solid #10b981;
            color: #065f46;
        }
        
        .message-error {
            background: #fee2e2;
            border: 1px solid #ef4444;
            color: #991b1b;
        }
        
        .emoji {
            font-size: 20px;
            margin-right: 5px;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .demo-container {
                grid-template-columns: 1fr;
            }
            
            .header {
                padding: 30px 15px;
            }
            
            .logo {
                font-size: 36px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <div class="header">
            <div class="logo">MiniLove</div>
            <div class="tagline">情感支持社区 · 为迷茫的心找到方向</div>
            <div class="subtitle">
                专为18-45岁男性设计的情感支持平台，在晚间时光（18:00~04:00）提供温暖陪伴
            </div>
        </div>
        
        <!-- 项目状态 -->
        <div class="section">
            <h3><i class="fas fa-rocket emoji"></i> 项目状态</h3>
            <div class="tech-stack">
                <div class="tech-item">
                    <div class="tech-name">后端API</div>
                    <div class="tech-desc">Node.js + Express</div>
                    <div class="status-badge status-success">已就绪</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">用户认证</div>
                    <div class="tech-desc">JWT + Bcrypt</div>
                    <div class="status-badge status-success">已实现</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">数据库</div>
                    <div class="tech-desc">PostgreSQL设计</div>
                    <div class="status-badge status-success">架构完成</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">前端界面</div>
                    <div class="tech-desc">Vue 3 + Tailwind</div>
                    <div class="status-badge status-success">待开发</div>
                </div>
            </div>
        </div>
        
        <!-- API演示 -->
        <div class="section">
            <h3><i class="fas fa-code emoji"></i> API功能演示</h3>
            <div id="demoContainer" class="demo-container">
                
                <!-- 用户认证演示 -->
                <div class="demo-card">
                    <h2><i class="fas fa-user-circle"></i> 用户认证</h2>
                    
                    <div class="test-user">
                        <h4><i class="fas fa-key"></i> 测试账户</h4>
                        <div class="user-credentials">
                            <div><strong>免费会员:</strong> test_user / test123</div>
                            <div><strong>高级会员:</strong> premium_user / test123</div>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn" onclick="testAuthAPI()">
                            <i class="fas fa-plug"></i> 测试API连接
                        </button>
                        <button class="btn btn-secondary" onclick="loginAsTestUser()">
                            <i class="fas fa-sign-in-alt"></i> 模拟登录
                        </button>
                    </div>
                    
                    <div id="authResult" class="api-result">
                        <div class="loading">点击按钮开始测试</div>
                    </div>
                </div>
                
                <!-- 帖子功能演示 -->
                <div class="demo-card">
                    <h2><i class="fas fa-newspaper"></i> 帖子管理</h2>
                    
                    <div class="post-preview">
                        <div class="post-header">
                            <div class="avatar">TU</div>
                            <div>
                                <div class="post-author">test_user · 免费会员</div>
                                <div class="post-time">刚刚 · 情感倾诉</div>
                            </div>
                        </div>
                        <div class="post-content">
                            工作十年，突然不知道自己要什么了...感觉每天都在重复，找不到生活的意义。
                        </div>
                        <div class="post-stats">
                            <span><i class="fas fa-heart"></i> 15</span>
                            <span><i class="fas fa-comment"></i> 8</span>
                            <span><i class="fas fa-eye"></i> 120</span>
                        </div>
                        <div>
                            <span class="tag">#迷茫</span>
                            <span class="tag">#工作</span>
                            <span class="tag">#人生</span>
                            <span class="emotion-tag">焦虑</span>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn" onclick="getPostsDemo()">
                            <i class="fas fa-list"></i> 获取帖子列表
                        </button>
                        <button class="btn btn-tertiary" onclick="createPostDemo()">
                            <i class="fas fa-plus"></i> 创建测试帖子
                        </button>
                    </div>
                    
                    <div id="postsResult" class="api-result">
                        <div class="loading">点击按钮开始测试</div>
                    </div>
                </div>
                
                <!-- 社交功能演示 -->
                <div class="demo-card">
                    <h2><i class="fas fa-users"></i> 社交功能</h2>
                    
                    <div class="features-grid">
                        <div class="feature-item">
                            <h4><i class="fas fa-comment-dots"></i> 评论系统</h4>
                            <p>支持多级回复的评论功能</p>
                        </div>
                        <div class="feature-item">
                            <h4><i class="fas fa-heart"></i> 点赞收藏</h4>
                            <p>帖子点赞和收藏功能</p>
                        </div>
                        <div class="feature-item">
                            <h4><i class="fas fa-user-friends"></i> 关注系统</h4>
                            <p>用户之间的关注关系</p>
                        </div>
                        <div class="feature-item">
                            <h4><i class="fas fa-lock"></i> 隐私设置</h4>
                            <p>公开/私密/仅好友可见</p>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn" onclick="testComments()">
                            <i class="fas fa-comments"></i> 测试评论
                        </button>
                        <button class="btn btn-secondary" onclick="testTopics()">
                            <i class="fas fa-hashtag"></i> 获取话题
                        </button>
                    </div>
                    
                    <div id="socialResult" class="api-result">
                        <div class="loading">点击按钮开始测试</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 核心功能 -->
        <div class="section">
            <h3><i class="fas fa-star emoji"></i> 核心功能</h3>
            <div class="features-grid">
                <div class="feature-item">
                    <h4><i class="fas fa-heartbeat"></i> 情感支持</h4>
                    <p>针对18-45岁男性的情感倾诉平台，提供专业的情感支持和共鸣社区</p>
                </div>
                <div class="feature-item">
                    <h4><i class="fas fa-bullseye"></i> 目标引导</h4>
                    <p>帮助用户设定小目标，找到人生方向，缓解"不知道该做什么"的迷茫感</p>
                </div>
                <div class="feature-item">
                    <h4><i class="fas fa-moon"></i> 晚间陪伴</h4>
                    <p>特别设计在18:00~04:00活跃，陪伴用户度过孤独的夜晚时光</p>
                </div>
                <div class="feature-item">
                    <h4><i class="fas fa-crown"></i> 会员服务</h4>
                    <p>分层会员体系，提供个性化情感支持和专属内容服务</p>
                </div>
            </div>
        </div>
        
        <!-- 技术架构 -->
        <div class="section">
            <h3><i class="fas fa-sitemap emoji"></i> 技术架构</h3>
            <div class="tech-stack">
                <div class="tech-item">
                    <div class="tech-name">前端</div>
                    <div class="tech-desc">Vue 3 + Vite</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">UI框架</div>
                    <div class="tech-desc">Tailwind CSS</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">后端</div>
                    <div class="tech-desc">Node.js + Express</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">数据库</div>
                    <div class="tech-desc">PostgreSQL</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">认证</div>
                    <div class="tech-desc">JWT + Redis</div>
                </div>
                <div class="tech-item">
                    <div class="tech-name">部署</div>
                    <div class="tech-desc">Docker + Nginx</div>
                </div>
            </div>
        </div>
        
        <!-- 消息框 -->
        <div id="messageBox" class="message-box"></div>
        
        <!-- 底部 -->
        <div class="footer">
            <p>MiniLove 情感支持社区 · 架构师：AI架构师 · 产品负责人：啊涯</p>
            <p>© 2026 MiniLove Project · 当前版本：API v0.1.0</p>
        </div>
    </div>

    <script>
        // 模拟的API响应数据
        const mockData = {
            health: {
                status: 'ok',
                service: 'minilove-api',
                version: '0.1.0',
                timestamp: new Date().toISOString(),
                mockData: true
            },
            login: {
                message: '登录成功',
                user: {
                    id: 1,
                    username: 'test_user',
                    email: 'test@minilove.com',
                    membershipLevel: 'free'
                },
                token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjEsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzA4NjA4MDAwLCJleHAiOjE3MDkyMTI4MDB9.mock_jwt_token_for_demo',
                expiresIn: '7d'
            },
            posts: {
                posts: [
                    {
                        id: 1,
                        title: '深夜的迷茫',
                        content: '工作十年，突然不知道自己要什么了...感觉每天都在重复，找不到生活的意义。',
                        author_username: 'test_user',
                        category: '情感倾诉',
                        tags: ['迷茫', '工作', '人生'],
                        emotion_tags: ['迷茫', '焦虑'],
                        likes_count: 15,
                        comments_count: 8,
                        views_count: 120,
                        created_at: '2026-02-22T20:30:00Z'
                    },
                    {
                        id: 2,
                        title: '一个人的周末',
                        content: '周末不知道做什么，大家都怎么度过？感觉自己好无聊...',
                        author_username: 'test_user',
                        category: '单身生活',
                        tags: ['周末', '独处', '生活'],
                        emotion_tags: ['孤独', '无聊'],
                        likes_count: 23,
                        comments_count: 12,
                        views_count: 185,
                        created_at: '2026-02-22T21:15:00Z'
                    },
                    {
                        id: 3,
                        title: '设定小目标的重要性',
                        content: '分享我如何通过设定小目标找到方向：每周完成一个小目标，生活变得充实多了！',
                        author_username: 'premium_user',
                        category: '目标规划',
                        tags: ['目标', '规划', '成长'],
                        emotion_tags: ['积极', '希望'],
                        likes_count: 42,
                        comments_count: 25,
                        views_count: 320,
                        created_at: '2026-02-22T22:00:00Z'
                    }
                ],
                pagination: {
                    total: 3,
                    page: 1,
                    limit: 20,
                    totalPages: 1,
                    hasNextPage: false,
                    hasPrevPage: false
                }
            },
            topics: {
                topics: [
                    {
                        id: 1,
                        name: '情感倾诉',
                        description: '分享你的心情故事，寻找共鸣',
                        is_featured: true,
                        posts_count: 25,
                        participants_count: 120
                    },
                    {
                        id: 2,
                        name: '目标规划',
                        description: '如何找到人生方向，设定可实现的目标',
                        is_featured: true,
                        posts_count: 18,
                        participants_count: 85
                    },
                    {
                        id: 3,
                        name: '晚间闲聊',
                        description: '夜深人静时的随性交流',
                        is_featured: true,
                        posts_count: 42,
                        participants_count: 210
                    }
                ]
            },
            newPost: {
                message: '帖子创建成功',
                post: {
                    id: 4,
                    user_id: 1,
                    title: '测试新帖子',
                    content: '这是一个测试帖子，用来演示创建功能。',
                    category: '情感倾诉',
                    tags: ['测试', '新帖子'],
                    emotion_tags: [],
                    likes_count: 0,
                    comments_count: 0,
                    views_count: 0,
                    visibility: 'public',
                    status: 'published',
                    created_at: new Date().toISOString()
                }
            },
            comments: {
                comments: [
                    {
                        id: 1,
                        post_id: 1,
                        user_id: 2,
                        content: '我也有同样的感受，一起加油！',
                        author_username: 'premium_user',
                        likes_count: 5,
                        created_at: '2026-02-22T20:45:00Z'
                    },
                    {
                        id: 2,
                        post_id: 2,
                        user_id: 2,
                        content: '周末可以试试新的兴趣爱好，比如摄影或者运动',
                        author_username: 'premium_user',
                        likes_count: 3,
                        created_at: '2026-02-22T21:30:00Z'
                    }
                ]
            }
        };
        
        // 显示消息
        function showMessage(message, type = 'success') {
            const box = document.getElementById('messageBox');
            box.textContent = message;
            box.className = `message-box message-${type}`;
            box.style.display = 'block';
            
            setTimeout(() => {
                box.style.display = 'none';
            }, 3000);
        }
        
        // 显示API结果
        function showAPIResult(elementId, data, title = 'API响应') {
            const element = document.getElementById(elementId);
            const html = `
                <div class="status-badge status-success">✅ ${title}</div>
                <pre>${JSON.stringify(data, null, 2)}</pre>
            `;
            element.innerHTML = html;
        }
        
        // 显示错误
        function showError(elementId, error, title = 'API错误') {
            const element = document.getElementById(elementId);
            const html = `
                <div class="status-badge status-error">❌ ${title}</div>
                <pre>${JSON.stringify(error, null, 2)}</pre>
            `;
            element.innerHTML = html;
        }
        
        // 测试认证API
        function testAuthAPI() {
            showMessage('正在测试API连接...', 'success');
            
            setTimeout(() => {
                showAPIResult('authResult', mockData.health, '健康检查');
                showMessage('API连接测试成功！', 'success');
            }, 500);
        }
        
        // 模拟登录
        function loginAsTestUser() {
            showMessage('正在模拟用户登录...', 'success');
            
            setTimeout(() => {
                showAPIResult('authResult', mockData.login, '用户登录');
                showMessage('登录成功！欢迎 test_user', 'success');
                
                // 更新页面状态
                document.querySelector('.test-user').innerHTML += `
                    <div style="margin-top: 10px; padding: 8px; background: #d1fae5; border-radius: 4px; font-size: 12px;">
                        <i class="fas fa-check-circle"></i> 当前已登录为: test_user
                    </div>
                `;
            }, 800);
        }
        
        // 获取帖子演示
        function getPostsDemo() {
            showMessage('正在获取帖子列表...', 'success');
            
            setTimeout(() => {
                showAPIResult('postsResult', mockData.posts, '帖子列表');
                showMessage(`成功获取 ${mockData.posts.posts.length} 篇帖子`, 'success');
            }, 600);
        }
        
        // 创建测试帖子
        function createPostDemo() {
            showMessage('正在创建测试帖子...', 'success');
            
            setTimeout(() => {
                showAPIResult('postsResult', mockData.newPost, '创建帖子');
                showMessage('帖子创建成功！已添加到列表', 'success');
                
                // 添加到帖子列表
                mockData.posts.posts.unshift(mockData.newPost.post);
                mockData.posts.pagination.total += 1;
            }, 800);
        }
        
        // 测试评论
        function testComments() {
            showMessage('正在获取评论数据...', 'success');
            
            setTimeout(() => {
                showAPIResult('socialResult', mockData.comments, '评论列表');
                showMessage(`成功获取 ${mockData.comments.comments.length} 条评论`, 'success');
            }, 600);
        }
        
        // 测试话题
        function testTopics() {
            showMessage('正在获取话题列表...', 'success');
            
            setTimeout(() => {
                showAPIResult('socialResult', mockData.topics, '话题列表');
                showMessage(`成功获取 ${mockData.topics.topics.length} 个热门话题`, 'success');
            }, 600);
        }
        
        // 页面加载时自动测试
        window.onload = function() {
            // 延迟执行，让页面先加载完成
            setTimeout(() => {
                testAuthAPI();
                showMessage('MiniLove演示页面加载完成！点击各个按钮测试功能。', 'success');
            }, 1000);
        };
        
        // 添加一些动画效果
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.demo-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s, transform 0.5s';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100 * index);
            });
        });
    </script>
</body>
</html>