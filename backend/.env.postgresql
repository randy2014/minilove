# MiniLove PostgreSQL 生产环境配置
NODE_ENV=production

# 服务器配置
PORT=3000
HOST=0.0.0.0
CORS_ORIGIN=https://minilove.app,https://www.minilove.app,http://localhost:5173
API_PREFIX=/api
API_VERSION=v1

# PostgreSQL数据库配置（生产环境）
DATABASE_URL=postgresql://minilove_user:strong_production_password@postgresql-host:5432/minilove_prod
DB_HOST=postgresql-host
DB_PORT=5432
DB_NAME=minilove_prod
DB_USER=minilove_user
DB_PASSWORD=strong_production_password

# PostgreSQL连接池配置
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=2000

# Redis缓存配置（生产环境）
REDIS_URL=redis://:redis_production_password@redis-host:6379
REDIS_HOST=redis-host
REDIS_PORT=6379
REDIS_PASSWORD=redis_production_password

# JWT配置（生产环境 - 必须使用强密钥）
JWT_SECRET=production_jwt_secret_minilove_2026_very_strong_random_string_change_in_production
JWT_EXPIRES_IN=7d

# 文件上传配置
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_PATH=/uploads
CLOUD_STORAGE_PROVIDER=aws_s3  # 可选: aws_s3, aliyun_oss, tencent_cos

# CDN配置
CDN_DOMAIN=https://cdn.minilove.app

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/var/log/minilove/app.log

# 性能监控
ENABLE_METRICS=true
METRICS_PORT=9091

# 安全配置
RATE_LIMIT_WINDOW_MS=900000  # 15分钟
RATE_LIMIT_MAX_REQUESTS=100  # 每个IP每15分钟最多100个请求

# 禁用模拟数据模式
USE_MOCK_DB=false
USE_SQLITE=false

# 微信配置
WECHAT_APP_ID=your_wechat_app_id
WECHAT_APP_SECRET=your_wechat_app_secret

# 支付宝配置
ALIPAY_APP_ID=your_alipay_app_id
ALIPAY_PRIVATE_KEY=your_alipay_private_key
ALIPAY_PUBLIC_KEY=your_alipay_public_key

# 邮件服务配置
SMTP_HOST=smtp.provider.com
SMTP_PORT=587
SMTP_USER=mail@minilove.app
SMTP_PASSWORD=email_password
EMAIL_FROM=noreply@minilove.app

# 短信服务配置
SMS_PROVIDER=aliyun  # 可选: aliyun, tencent, twilio
SMS_ACCESS_KEY=your_sms_access_key
SMS_ACCESS_SECRET=your_sms_access_secret
SMS_SIGN_NAME=MiniLove

# 内容审核配置
CONTENT_MODERATION_ENABLED=true
MODERATION_API_KEY=your_moderation_api_key

# 性能优化
ENABLE_CACHE=true
CACHE_TTL_SECONDS=300
ENABLE_COMPRESSION=true
ENABLE_HTTP2=true

# 功能开关
ENABLE_CHAT=true
ENABLE_LIVE_STREAMING=false
ENABLE_VOICE_MESSAGES=true
ENABLE_VIDEO_CALLS=false

# 业务配置
MAX_POSTS_PER_DAY_FREE=3
MAX_POSTS_PER_DAY_BASIC=10
MAX_POSTS_PER_DAY_PREMIUM=30
FREE_MESSAGE_LIMIT=10
BASIC_MESSAGE_LIMIT=100
PREMIUM_MESSAGE_LIMIT=1000